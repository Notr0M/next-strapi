{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  {\\n    restaurants {\\n      _id\\n      name\\n      description\\n      image {\\n        url\\n      }\\n    }\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport gql from \"graphql-tag\";\nimport Link from \"next/link\";\nimport { graphql } from \"react-apollo\";\nimport { Button, Card, CardBody, CardColumns, CardImg, CardSubtitle } from \"reactstrap\";\nimport { CardText, CardTitle, Col, Row } from \"reactstrap\";\n\nvar RestaurantList = function RestaurantList(_ref, req) {\n  var _ref$data = _ref.data,\n      loading = _ref$data.loading,\n      error = _ref$data.error,\n      restaurants = _ref$data.restaurants,\n      search = _ref.search;\n  if (error) return \"Error loading restaurants\"; //if restaurants are returned from the GraphQL query, run the filter query\n  //and set equal to variable restaurantSearch\n\n  if (restaurants && restaurants.length) {\n    //searchQuery\n    var searchQuery = restaurants.filter(function (query) {\n      return query.name.toLowerCase().includes(search);\n    });\n\n    if (searchQuery.length != 0) {\n      return __jsx(\"div\", {\n        className: \"jsx-1272619790\"\n      }, __jsx(\"div\", {\n        className: \"jsx-1272619790\" + \" \" + \"h-100\"\n      }, searchQuery.map(function (res) {\n        return __jsx(Card, {\n          style: {\n            width: \"30%\",\n            margin: \"0 10px\"\n          },\n          className: \"h-100\",\n          key: res._id\n        }, __jsx(CardImg, {\n          top: true,\n          style: {\n            height: 250\n          },\n          src: \"http://localhost:1337\".concat(res.image[0].url),\n          alt: \"\".concat(res.name)\n        }), __jsx(CardBody, null, __jsx(CardTitle, null, res.name), __jsx(CardText, null, res.description)), __jsx(\"div\", {\n          className: \"jsx-1272619790\" + \" \" + \"card-footer\"\n        }, __jsx(Link, {\n          as: \"/restaurants/\".concat(res._id),\n          href: \"/restaurants?id=\".concat(res._id)\n        }, __jsx(\"a\", {\n          className: \"jsx-1272619790\" + \" \" + \"btn btn-primary\"\n        }, \"View\"))));\n      })), __jsx(_JSXStyle, {\n        id: \"1272619790\"\n      }, [\"a{color:white;}\", \"a:link{-webkit-text-decoration:none;text-decoration:none;color:white;}\", \"a:hover{color:white;}\", \".card-columns{-webkit-column-count:3;column-count:3;}\"]));\n    } else {\n      return __jsx(\"h1\", null, \"No Restaurants Found\");\n    }\n  }\n\n  return __jsx(\"h1\", null, \"Loading\");\n};\n\nvar query = gql(_templateObject());\n\nRestaurantList.getStaticProps = function _callee(_ref2) {\n  var req;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          req = _ref2.req;\n\n        case 1:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}; // The `graphql` wrapper executes a GraphQL query and makes the results\n// available on the `data` prop of the wrapped component (RestaurantList)\n\n\nexport default graphql(query, {\n  props: function props(_ref3) {\n    var data = _ref3.data;\n    return {\n      data: data\n    };\n  }\n})(RestaurantList);","map":null,"metadata":{},"sourceType":"module"}